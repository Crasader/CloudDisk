(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{43:function(e,t,a){e.exports=a(70)},48:function(e,t,a){},49:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(38),i=a.n(o),r=(a(48),a(15)),s=a(16),c=a(18),d=a(17),m=a(8),u=a(19),h=a(13),p=a.n(h),f={BASE_API:"http://localhost:5000",login:function(e,t){return fetch(this.BASE_API+"/login",{method:"POST",body:JSON.stringify({email:e,password:t}),headers:{Accept:"application/json","Content-Type":"application/json"}})},auth:function(e){return fetch(this.BASE_API+"/auth",{method:"GET",headers:{Authorization:e,Accept:"application/json","Content-Type":"application/json"}})},getFolders:function(){return fetch(this.BASE_API+"/folders",{method:"GET",headers:{Accept:"application/json"}})},getFolder:function(e){return fetch(this.BASE_API+"/folders/"+e,{method:"GET",headers:{Accept:"application/json"}})},addFolder:function(e){return fetch(this.BASE_API+"/folders",{method:"POST",body:JSON.stringify({name:e}),headers:{Accept:"application/json","Content-Type":"application/json"}})},deleteFolder:function(e){return fetch(this.BASE_API+"/folders/"+e,{method:"DELETE",headers:{Accept:"application/json"}})},uploadFile:function(e,t){var a=new FormData;return a.append("file",t),fetch(this.BASE_API+"/folders/"+e,{method:"POST",body:a,headers:{Accept:"application/json"}})},deleteFile:function(e,t){return fetch(this.BASE_API+"/folders/"+e+"/"+t,{method:"DELETE",headers:{Accept:"application/json"}})},downloadFile:function(e,t){return this.BASE_API+"/folders/"+e+"/"+t},getFileInfo:function(e,t){return fetch(this.BASE_API+"/folders/"+e+"/"+t+"?query=info",{method:"GET",headers:{Accept:"application/json"}})},generateShareFileDownloadUrl:function(e){return this.BASE_API+"/share/"+e+"?download=true"},updateFileShareType:function(e,t,a){return fetch(this.BASE_API+"/folders/"+e+"/"+t+"?shareType="+a,{method:"PATCH",headers:{Accept:"application/json"}})},getFileInfoWithShareUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.BASE_API+"/share/"+e;return null!=t&&(a+="?password="+t),fetch(a,{method:"GET",headers:{Accept:"application/json"}})}},E=(a(49),a(50),a(51),a(7)),b=a.n(E),v=(a(71),a(12)),F=a.n(v),g=a(41),N=a(14),y=a(22),w=a(23),k=(a(57),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={error:!1},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.email,l=this.password;f.login(a,l).then((function(e){e.ok?e.json().then((function(e){return t.props.onLogin(e)})):t.setState({error:!0})}))}},{key:"render",value:function(){var e,t=this;return e=this.state.error?n.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert"},n.a.createElement("strong",null,"\u8d26\u53f7\u5bc6\u7801\u9519\u8bef\uff01")," \u8bf7\u68c0\u67e5\u4f60\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u662f\u5426\u6b63\u786e\u3002",n.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))):n.a.createElement("span",null),n.a.createElement("div",{className:"row ",style:{height:"800px"}},n.a.createElement("div",{className:"align-self-center w-100 p-3"},n.a.createElement("div",{className:"col-4 offset-4 "},n.a.createElement("div",{className:"row justify-content-center p-3 mb-2 bg-primary text-white"},n.a.createElement("h3",null,"\u7528\u6237\u767b\u5f55")),n.a.createElement("div",{className:"row bg-light"},n.a.createElement("form",{className:"w-100 p-3",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"\u90ae\u7bb1\uff1a"),n.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",onChange:function(e){return t.email=e.target.value}}),n.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"\u6211\u4eec\u4e0d\u4f1a\u5411\u4efb\u4f55\u4eba\u5c55\u793a\u4f60\u7684\u90ae\u7bb1\u5730\u5740\uff01")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"\u5bc6\u7801\uff1a"),n.a.createElement("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:function(e){return t.password=e.target.value}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"\u767b\u5f55"))),n.a.createElement("div",{className:"row"},e))))}}]),t}(l.Component)),S=(a(58),a(30)),C=a.n(S),j=(a(64),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={folders:[],showAddFolderDialog:!1,addFolderError:!1,files:[],showUploadFileDialog:!1,uploadFileError:!1,showFileShareDialog:!1,selectedFolder:"",selectedFile:"",selectedFileId:0},a.addFolder=a.addFolder.bind(Object(m.a)(a)),a.uploadFile=a.uploadFile.bind(Object(m.a)(a)),a.saveFileShareType=a.saveFileShareType.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"refreshFolderList",value:function(){var e=this;f.getFolders().then((function(t){t.ok&&t.json().then((function(t){var a=t.data[0];e.setState({folders:t.data,selectedFolder:a},(function(){e.refreshFileList()}))}))}))}},{key:"refreshFileList",value:function(){var e=this;this.state.selectedFolder&&f.getFolder(this.state.selectedFolder.name).then((function(t){t.ok&&t.json().then((function(t){e.setState({files:t.data.files})}))}))}},{key:"addFolder",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t&&(t=this.newFolderName),f.addFolder(t).then((function(t){e.setState({addFolderError:!t.ok}),t.ok&&(e.setState({showAddFolderDialog:!1}),b()("#inputFolderName").val(""),e.refreshFolderList())}))}},{key:"deleteFolder",value:function(e){var t=this;F()({title:"\u786e\u5b9a\u5220\u9664\u6587\u4ef6\u5939 "+e+" \u5417\uff1f",text:"\u5220\u9664\u540e\u6587\u4ef6\u5939\u5185\u5bb9\u4e0d\u53ef\u6062\u590d\uff01",icon:"warning",buttons:{cancel:{text:"\u53d6\u6d88",value:!1,visible:!0,className:"",closeModal:!0},confirm:{text:"\u786e\u5b9a",value:!0,visible:!0,className:"",closeModal:!0}},dangerMode:!0}).then((function(a){a&&f.deleteFolder(e).then((function(e){e.ok&&(F()("\u6587\u4ef6\u5939\u5220\u9664\u6210\u529f.",{icon:"success"}),t.refreshFolderList())}))}))}},{key:"changeSelectedFolder",value:function(e){var t=this;this.state.selectedFolder.id!==e&&this.setState({selectedFolder:this.state.folders.find((function(t){return t.id==e}))},(function(){t.refreshFileList()}))}},{key:"uploadFile",value:function(){var e=this;f.uploadFile(this.state.selectedFolder.name,this.newUploadFile).then((function(t){e.setState({uploadFileError:!t.ok}),t.ok&&(e.setState({showUploadFileDialog:!1}),b()("#inputFile").val(""),e.refreshFileList())}))}},{key:"deleteFile",value:function(e){var t=this;F()({title:"\u786e\u5b9a\u5220\u9664\u6587\u4ef6 "+e+" \u5417\uff1f",text:"\u5220\u9664\u540e\u6587\u4ef6\u4e0d\u53ef\u6062\u590d\uff01",icon:"warning",buttons:{cancel:{text:"\u53d6\u6d88",value:!1,visible:!0,className:"",closeModal:!0},confirm:{text:"\u786e\u5b9a",value:!0,visible:!0,className:"",closeModal:!0}},dangerMode:!0}).then((function(a){a&&f.deleteFile(t.state.selectedFolder.name,e).then((function(e){e.ok&&(F()("\u6587\u4ef6\u5220\u9664\u6210\u529f.",{icon:"success"}),t.refreshFileList())}))}))}},{key:"downloadFile",value:function(e){window.open(f.downloadFile(this.state.selectedFolder.name,e),"_blank")}},{key:"saveFileShareType",value:function(e){var t=this,a="none";1==e?a="private":2==e&&(a="public"),f.updateFileShareType(this.state.selectedFolder.name,this.state.selectedFile.filename,a).then((function(e){e.ok&&f.getFileInfo(t.state.selectedFolder.name,t.state.selectedFile.filename).then((function(e){e.ok&&e.json().then((function(e){t.refreshFileList(),t.setState({selectedFile:e.data})}))}))}))}},{key:"componentDidMount",value:function(){this.refreshFolderList()}},{key:"componentDidUpdate",value:function(e,t,a){}},{key:"render",value:function(){var e,t=this,a=this.state.folders.map((function(e){return n.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",style:{textAlignlign:"center"},key:e.id},n.a.createElement("a",{href:"#",className:"d-flex align-items-center folderItem float-left",onClick:function(){t.changeSelectedFolder(e.id)}},n.a.createElement(y.a,{className:"float-left ml-1 mr-1",icon:w.b}),n.a.createElement("span",null,e.name)),n.a.createElement("button",{type:"button",className:"float-right btn btn-danger","aria-label":"Close",onClick:function(){return t.deleteFolder(e.name)}},n.a.createElement("span",{"aria-hidden":"true"},"\xd7")))}));e=this.state.addFolderError?n.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert"},n.a.createElement("strong",null,"\u6dfb\u52a0\u6587\u4ef6\u5939\u5931\u8d25\uff01"),"\u8bf7\u786e\u8ba4\u540d\u79f0\u662f\u5426\u65e0\u91cd\u590d\u3002"):n.a.createElement("span",null),this.state.showAddFolderDialog?n.a.createElement("div",{className:"modal fade",id:"addFolderModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addFolderErrorModelLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"addFolderErrorModelLabel"},"\u6dfb\u52a0\u6587\u4ef6\u5939"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){t.setState({showAddFolderDialog:!1})}},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},e,n.a.createElement("div",{className:"row w-100 p-3  align-items-center"},n.a.createElement("div",{className:"col-4 h-100 align-self-center"},"\u6587\u4ef6\u5939\u540d\u79f0\uff1a"),n.a.createElement("div",{className:"col-8"},n.a.createElement("input",{type:"text",className:"form-control",id:"inputFolderName",placeholder:"\u8bf7\u8f93\u5165\u6587\u4ef6\u5939\u540d\u79f0",onChange:function(e){return t.newFolderName=e.target.value}})))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){return t.addFolder()}},"\u521b \u5efa"),n.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal","aria-label":"Close",onClick:function(){t.setState({showAddFolderDialog:!1})}},"\u5173 \u95ed"))))):n.a.createElement("span",null);var l,o=this.state.files.map((function(e){return n.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:e.id},n.a.createElement("a",{href:"#",className:"d-flex align-items-center fileItem float-left"},n.a.createElement(y.a,{className:"float-left ml-1 mr-1",icon:w.a}),n.a.createElement("span",null,e.filename)),n.a.createElement("div",{className:"float-right"},n.a.createElement("button",{type:"button",className:"btn btn-danger mr-1 ml-1",onClick:function(){return t.deleteFile(e.filename)}},n.a.createElement("span",{"aria-hidden":"true"},"\u5220 \u9664")),n.a.createElement("button",{type:"button",className:"btn btn-primary mr-1 ml-1",onClick:function(){return t.downloadFile(e.filename)}},n.a.createElement("span",{"aria-hidden":"true"},"\u4e0b \u8f7d")),n.a.createElement("button",{type:"button",className:"btn btn-primary mr-1 ml-1",onClick:function(){t.setState({selectedFileId:e.id,selectedFile:e,showFileShareDialog:!0})}},n.a.createElement("span",{"aria-hidden":"true"},"\u5206 \u4eab"))))}));l=this.state.uploadFileError?n.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert"},n.a.createElement("strong",null,"\u4e0a\u4f20\u6587\u4ef6\u5931\u8d25\uff01"),"\u8bf7\u786e\u8ba4\u6587\u4ef6\u662f\u5426\u91cd\u590d\uff0c\u6216\u8005\u670d\u52a1\u5668\u8fd0\u884c\u548c\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38\u3002"):n.a.createElement("span",null),!0===this.state.showFileShareDialog?b()("#shareFileModal").modal("show"):b()("#shareFileModal").modal("hide"),!0===this.state.showUploadFileDialog?b()("#addFileModal").modal("show"):b()("#addFileModal").modal("hide"),!0===this.state.showAddFolderDialog?b()("#addFolderModal").modal("show"):b()("#addFolderModal").modal("hide");var i=n.a.createElement("span",null);return!0===this.state.selectedFile.open_private_share?i=n.a.createElement("div",{className:"row w-100 pl-4 pr-4 d-flex justify-content-between align-items-center"},n.a.createElement("div",{className:"float-left"},"\u79c1\u5bc6\u5206\u4eab\u5730\u5740\uff1a"+this.state.selectedFile.private_share_url+"   \u5bc6\u7801\uff1a"+this.state.selectedFile.private_share_password),n.a.createElement("div",{className:"float-right"},n.a.createElement(C.a,{value:window.location+"s/"+this.state.selectedFile.private_share_url,size:64,bgColor:"#ffffff",fgColor:"#000000",level:"L"}))):!0===this.state.selectedFile.open_public_share&&(i=n.a.createElement("div",{className:"row w-100 pl-4 pr-4 d-flex justify-content-between align-items-center"},n.a.createElement("div",{className:"float-left"},"\u516c\u5f00\u5206\u4eab\u5730\u5740\uff1a"+this.state.selectedFile.public_share_url),n.a.createElement("div",{className:"float-right"},n.a.createElement(C.a,{value:window.location+"s/"+this.state.selectedFile.public_share_url,size:64,bgColor:"#ffffff",fgColor:"#000000",level:"L"})))),n.a.createElement("div",{className:"w-100 p-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-2 "},n.a.createElement("button",{type:"button",className:"btn btn-primary w-100 p-2",onClick:function(){return t.setState({showAddFolderDialog:!0})}},"\u6dfb\u52a0\u6587\u4ef6\u5939")),n.a.createElement("div",{className:"col-2"},n.a.createElement("button",{type:"button",className:"btn btn-primary w-100 p-2",onClick:function(){return t.setState({showUploadFileDialog:!0})}},"\u4e0a\u4f20\u6587\u4ef6"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4  w-100 p-3"},n.a.createElement("ul",{className:"list-group"},a)),n.a.createElement("div",{className:"col-7 offset-1 w-100 p-3"},n.a.createElement("ul",{className:"list-group"},o))),n.a.createElement("div",null,n.a.createElement("div",{className:"modal fade",id:"addFolderModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addFolderErrorModelLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"addFolderErrorModelLabel"},"\u6dfb\u52a0\u6587\u4ef6\u5939"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){t.setState({showAddFolderDialog:!1})}},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},e,n.a.createElement("div",{className:"row w-100 p-3  align-items-center"},n.a.createElement("div",{className:"col-4 h-100 align-self-center"},"\u6587\u4ef6\u5939\u540d\u79f0\uff1a"),n.a.createElement("div",{className:"col-8"},n.a.createElement("input",{type:"text",className:"form-control",id:"inputFolderName",placeholder:"\u8bf7\u8f93\u5165\u6587\u4ef6\u5939\u540d\u79f0",onChange:function(e){return t.newFolderName=e.target.value}})))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){t.addFolder()}},"\u521b \u5efa"),n.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal","aria-label":"Close",onClick:function(){t.setState({showAddFolderDialog:!1})}},"\u8fd4 \u56de"))))),n.a.createElement("div",{className:"modal fade",id:"addFileModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addFilerErrorModelLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"addFileErrorModelLabel"},"\u4e0a\u4f20\u6587\u4ef6"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){t.setState({showUploadFileDialog:!1})}},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},l,n.a.createElement("div",{className:"row w-100 p-3  align-items-center"},n.a.createElement("div",{className:"col-4 h-100 align-self-center"},"\u6587\u4ef6\u5939\u540d\u79f0\uff1a"),n.a.createElement("div",{className:"col-8"},n.a.createElement("input",{type:"file",className:"form-control",id:"inputFile",placeholder:"\u4e0a\u4f20\u6587\u4ef6",onChange:function(e){return t.newUploadFile=e.target.files[0]}})))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){return t.uploadFile()}},"\u4e0a \u4f20"),n.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal","aria-label":"Close",onClick:function(){t.setState({showUploadFileDialog:!1})}},"\u8fd4 \u56de"))))),n.a.createElement("div",{className:"modal fade",id:"shareFileModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addFilerErrorModelLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"addFileErrorModelLabel"},"\u6587\u4ef6\u5206\u4eab"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){t.setState({showUploadFileDialog:!1})}},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},i,n.a.createElement("div",{className:"row w-100  pl-4 pr-4"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-check  form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"fileShareRadio",id:"exampleRadios1",value:"option1",defaultChecked:this.state.selectedFile.open_public_share,onClick:function(){return t.publicShareValue=2}}),n.a.createElement("label",{className:"form-check-label"},"\u516c\u5f00\u5206\u4eab")),n.a.createElement("div",{className:"form-check  form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"fileShareRadio",id:"exampleRadios2",value:"option2",defaultChecked:this.state.selectedFile.open_private_share,onClick:function(){return t.publicShareValue=1}}),n.a.createElement("label",{className:"form-check-label"},"\u79c1\u5bc6\u5206\u4eab")),n.a.createElement("div",{className:"form-check  form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"fileShareRadio",id:"exampleRadios3",value:"option3",defaultChecked:!this.state.selectedFile.open_public_share&&!this.state.selectedFile.open_private_share,onClick:function(){return t.publicShareValue=0}}),n.a.createElement("label",{className:"form-check-label"},"\u5173\u95ed\u5206\u4eab"))))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){return t.saveFileShareType(t.publicShareValue)}},"\u4fdd \u5b58"),n.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal","aria-label":"Close",onClick:function(){t.setState({showFileShareDialog:!1})}},"\u8fd4 \u56de")))))))}}]),t}(l.Component)),A=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={login:!1},a.onLogin=a.onLogin.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=p.a.get("token");t&&f.auth(t).then((function(t){t.ok&&e.setState({login:!0})}))}},{key:"onLogin",value:function(e){p.a.set("token",e.token,{expires:7}),this.setState({login:!0})}},{key:"clearCookie",value:function(){p.a.get("token")&&(p.a.set("token",null),window.location.href="/")}},{key:"render",value:function(){return this.state.login?n.a.createElement(j,{title:"\u4e3b\u9875\u9762"}):n.a.createElement(k,{onLogin:this.onLogin})}}]),t}(l.Component),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={file:null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.path;f.getFileInfoWithShareUrl(t).then((function(a){a.ok&&a.json().then((function(a){e.setState({file:a.data}),a.data.open_private_share&&F()({text:"\u8bf7\u8f93\u5165\u5bc6\u7801",content:{element:"input",attributes:{placeholder:"\u8f93\u5165\u5bc6\u7801",type:"password"}},button:{text:"\u786e\u8ba4",closeModal:!1,closeOnEsc:!1},closeOnClickOutside:!1}).then((function(e){f.getFileInfoWithShareUrl(t,e).then((function(e){e.json().then((function(e){e.data.token?(p.a.set("token",e.data.token,{expires:1}),F.a.close()):F()("\u5bc6\u7801\u9519\u8bef\uff01")}))}))})),p.a.set("token",a.data.token,{expires:1})}))}))}},{key:"render",value:function(){var e=this;return this.state.file?n.a.createElement("div",{className:"d-flex justify-content-center align-content-center"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{rowspan:"2"},n.a.createElement(y.a,{icon:w.a,size:"4x"})),n.a.createElement("td",null,this.state.file.filename)),n.a.createElement("tr",null,n.a.createElement("td",{className:"d-flex justify-content-center align-content-center"},n.a.createElement("button",{className:"btn btn-primary w-75",onClick:function(){window.open(f.generateShareFileDownloadUrl(e.props.match.params.path),"_blank")}},"\u4e0b \u8f7d"))))):n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4 offset-4"},n.a.createElement("span",null,"\u6587\u4ef6\u4e0d\u5b58\u5728\uff01")))}}]),t}(l.Component),_=function(){return n.a.createElement("div",{className:"container"},n.a.createElement("nav",{className:"nav p-3 mb-2 bg-light text-dark"},n.a.createElement("a",{className:"nav-link active",href:"/"},"CloudDisk - \u79c1\u6709\u4e91\u786c\u76d8"),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){p.a.get("token")&&(p.a.set("token",null),window.location.href="/")}},"\u624b\u52a8\u6e05\u9664Cookie")),n.a.createElement(g.a,null,n.a.createElement(N.a,{path:"/",exact:!0,component:A}),n.a.createElement(N.a,{path:"/s/:path",component:x})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.39107fb0.chunk.js.map